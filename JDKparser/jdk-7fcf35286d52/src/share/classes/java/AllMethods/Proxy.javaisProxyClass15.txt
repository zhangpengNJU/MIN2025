/**
 * Returns true if and only if the specified class was dynamically
 * generated to be a proxy class using the {@code getProxyClass}
 * method or the {@code newProxyInstance} method.
 *
 * <p>The reliability of this method is important for the ability
 * to use it to make security decisions, so its implementation should
 * not just test if the class in question extends {@code Proxy}.
 *
 * @param   cl the class to test
 * @return  {@code true} if the class is a proxy class and
 *          {@code false} otherwise
 * @throws  NullPointerException if {@code cl} is {@code null}
 */
public static boolean isProxyClass(Class<?> cl) {
    return Proxy.class.isAssignableFrom(cl) && proxyClassCache.containsValue(cl);
}