public int read() throws IOException {
    byte[] b = new byte[1];
    if (read(b, 0, 1) == 1) {
        return b[0] & 0xff;
    } else {
        return -1;
    }
}