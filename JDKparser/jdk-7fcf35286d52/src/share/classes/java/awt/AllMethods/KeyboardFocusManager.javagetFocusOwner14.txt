/**
 * Returns the focus owner, if the focus owner is in the same context as
 * the calling thread. The focus owner is defined as the Component in an
 * application that will typically receive all KeyEvents generated by the
 * user. KeyEvents which map to the focus owner's focus traversal keys will
 * not be delivered if focus traversal keys are enabled for the focus
 * owner. In addition, KeyEventDispatchers may retarget or consume
 * KeyEvents before they reach the focus owner.
 *
 * @return the focus owner, or null if the focus owner is not a member of
 *         the calling thread's context
 * @see #getGlobalFocusOwner
 * @see #setGlobalFocusOwner
 */
public Component getFocusOwner() {
    synchronized (KeyboardFocusManager.class) {
        if (focusOwner == null) {
            return null;
        }
        return (focusOwner.appContext == AppContext.getAppContext()) ? focusOwner : null;
    }
}