private static int hugeCapacity(int minCapacity) {
    if (// overflow
    minCapacity < 0)
        throw new OutOfMemoryError("Required array size too large");
    return (minCapacity > MAX_ARRAY_SIZE) ? Integer.MAX_VALUE : MAX_ARRAY_SIZE;
}